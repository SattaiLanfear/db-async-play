@import play.api.routing.Router.Tags.RouteActionMethod
@(title: String, user: Option[models.User] = None)(content: Html)(implicit req: RequestHeader, messages: Messages)<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>DB-Async-Play Sample App: @title</title>

	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" rel="stylesheet">

	<!--[if lt IE 9]>
	<script src='@routes.ApplicationAssets.lib("html5shiv/html5shiv.min.js")'></script>
	<![endif]-->

	<style type="text/css">
		body {
			padding-top: 50px;
		}
	</style>
</head>
<body>
<header class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="sr-only">Toggle Navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#">DB-Async-Play Sample</a>
		</div>
		<nav class="collapse navbar-collapse">
			<ul class="nav navbar-nav">
				@for(
					(name, method, call) <- Seq(
						("Home", "summary", routes.Application.summary),
						("Create Transaction", "createTransaction", routes.Application.createTransaction),
						("View Transactions", "viewTransactions", routes.Application.viewTransactions),
						("View Users", "viewUsers", routes.Application.viewUsers)
					)
				){
					<li><a class='@req.tags.get(RouteActionMethod).filter(_ == method).map(_ => "active")' href="@call">@name</a></li>
				}
			</ul>
			<ul class="nav navbar-nav navbar-right">
				@user.map { u =>
					<li><a href="#">@u.name</a></li>
					<li><a href="#">Balance: @util.cash(u.balance)</a></li>
					<li><a href='@routes.Application.logout'>Sign Out</a></li>
				}.getOrElse {
					<li>Sign In</li>
				}
			</ul>
		</nav>
	</div>
</header>

<main class="container">
	<div class="row" style="padding: 40px 15px">
		<h1 style="text-align: center; font-size: 30px">@title</h1>
		@for(
			(name, display, extra) <- Seq(
				("error", "Error!", "alert-danger alert-error"),
				("warning", "Warning!", "alert-warning"),
				("success", "Success!", "alert-success"),
				("info", "Important!", "alert-info")
			)
		){
			@req.flash.get(name).map { msg =>
				<div class="row">
					<div class="col-md-6 col-md-offset-3 alert @extra" role="alert">
						<a href="#" class="close" data-dismiss="alert">&times;</a>
						<strong>@display</strong> @msg
					</div>
				</div>
			}
		}
	</div>
	<hr class="col-md-12" />
	@content
</main>

<script type='text/javascript' src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type='text/javascript' src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

</body>
</html>
