# This is the main configuration file for the application.
# ~~~~~

# Secret key
# ~~~~~
# The secret key is used to secure cryptographics functions.
#
# This must be changed for production, but we recommend not changing it in this file.
#
# See http://www.playframework.com/documentation/latest/ApplicationSecret for more details.
play.crypto.secret = "changeme"
play.crypto.secret = ${?APP_SECRET}

# The application languages
# ~~~~~
play.i18n.langs = ["en"]


# Session Cookie
# ~~~~~
play.http.session {

  # Session Sent only on HTTPS connections
  secure = false

  # Send only on HTTP - deny JavaScript access
  httpOnly = false

}

# Database configuration
# ~~~~~

db {
  transactions {
    driver = "org.postgresql.Driver"
    url = ${?PG_DATABASE_URL}
    migration.auto = true

    # Async driver should load this
    asyncDriver = "postgresql-async"
    default = true
  }

  users {
    driver = "com.mysql.jdbc.Driver"
    url = ${MY_DATABASE_URL}
    migration.auto = true

    # Async driver should load this
    asyncDriver = "mysql-async"
    default = true
  }

  # Pool configuration
  #asyncPool {
  #  # Targeting a free deployent, so low connection limits
  #  maxObjects = 5

    # No need to be greedy
  #  maxIdleObjects = 2
  #}
}


# Evolutions
# ~~~~~
# We use Flyway
play.evolutions.enabled = false

play.modules {
  disabled += "play.api.db.evolutions.EvolutionsModule"

  enabled += "org.flywaydb.play.PlayModule"
  enabled += "com.greyscribes.async.db.mysql.Module"
  enabled += "com.greyscribes.async.db.postgresql.Module"
}
